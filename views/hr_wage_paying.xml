<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>
    <record id="hr_wage_paying_tree_view" model="ir.ui.view">
    <field name="name">hr.wage.paying.tree.view</field>
    <field name="model">hr.wage.paying</field>
    <field name="arch" type="xml">
        <tree string="Preparación de nomina">
            <field name="start_date"/>
            <field name="end_date"/>
            <field name="state"/>
        </tree>
    </field>
    </record>

<record id="hr_wage_paying_form_view" model="ir.ui.view">
<field name="name">hr.wage.paying.form.view</field>
<field name="model">hr.wage.paying</field>
<field name="arch"  type="xml">
<form string="Salario y deducciones">
<header>
    
     <button name="get_employee" type="object" string="Obtener Empleados" states="draft" class="oe_highlight" />
      <button name="create_journal_entrie" type="object" string="Aporbar" states="validated" class="oe_highlight" />
     <button name="set_amounts" type="object" string="Procesar Nómina" states="draft" class="oe_highlight" />
    <field name="state" widget="statusbar" nolabel="1"/>
</header>
<sheet> 
    <group>
        <group>
            <field name="start_date" required="1"/>
            <field name="payroll_type"/>
        </group>
        <group>
            <field name="end_date" required="1"/>
            <field name="journal_id" />
            <field name="move_id" />
        </group>
    </group>

    <notebook>
        <page string="Detalle de empleados">
            <field name="employee_detail_ids">
                <tree editable="top">
                    <field name="employee_id" readonly="1"/>
                    <field name="wage" readonly="1" sum="Total"/>
                    <field name="other_incomes"/>
                    <field name="loan_fee"/>
                    <field name="saving_fee"/>
                    <field name="amount_isr"/>
                    <field name="amount_ipv"/>
                    <field name="other_deductions"/>
                    <field name="gross_wage" sum="Total" />
                    <field name="amount_deduction" sum="Total" />
                    <field name="amount_net" sum="Total"/>
                </tree>
            </field>
        </page>
        <page string="Observaciones">
        <group>
        <group>
                 <field name="net_total"/>
        </group>
        <group>
                 <field name="total_isr" />
                 <field name="total_ipv" />
                 <field name="total_saving_fee" />
                 <field name="total_loan" />
                 <field name="total_other_deducction" />
        </group>
        </group>
             <field name="name" placeholder="Nómina primera quincena"/>
        </page>
    </notebook>
 </sheet>
</form>
</field>
</record>   

    <!--  Action of Import inventory wizard -->
    <record model="ir.actions.act_window" id="action_hr_wage_paying">
    <field name="name">Nómina por lote</field>
    <field name="res_model">hr.wage.paying</field>
    <field name="view_type">form</field>
    <field name="view_model">form,tree</field>
    </record>

  <menuitem string="Nómina por lote" id="menu_hr_wage_paying" parent="hr.menu_hr_main" action="action_hr_wage_paying" sequence="10"/>

</data>
</openerp>